{"version":3,"sources":["componets/Header/Exit/index.js","componets/Header/Exit/Exit.jsx","componets/ReturnButton/ReturnButton.jsx","componets/ReturnButton/index.js","apiJSONBin.js","componets/Header/Entrance/RegistrationForm/index.js","componets/Header/Entrance/RegistrationForm/RegistrationForm.jsx","componets/Header/Entrance/LoginForm/index.js","componets/Header/Entrance/LoginForm/LoginForm.jsx","componets/Header/Entrance/index.js","componets/Header/Entrance/Entrance.jsx","componets/Header/HeaderMain/index.js","componets/Header/HeaderMain/Header.jsx","componets/Main/Nav/UserItem.jsx","componets/Main/Nav/Todos/TodoListItem/TodoListItem.jsx","componets/Main/Nav/Todos/TodoList/index.js","componets/Main/Nav/Todos/TodoList/TodoList.jsx","componets/Main/Nav/Todos/SearchPanel/index.js","componets/Main/Nav/Todos/SearchPanel/SearchPanel.jsx","componets/Main/Nav/Todos/ItemAddForm/index.js","componets/Main/Nav/Todos/ItemAddForm/ItemAddForm.jsx","componets/Main/Content/holidays.js","componets/Main/Nav/Todos/index.js","componets/Main/Nav/Todos/Todos.jsx","componets/Main/Nav/Settings.jsx","componets/Main/Nav/EventItem.jsx","componets/Main/Nav/index.js","componets/Main/Nav/Nav.jsx","componets/Main/Content/ContentItem.jsx","componets/Main/Content/index.js","componets/Main/Content/Content.jsx","componets/Main/index.js","componets/Main/Main.jsx","componets/Footer/index.js","componets/Footer/Footer.jsx","componets/App/index.js","componets/App/App.jsx","store.js","serviceWorker.js","index.js"],"names":["Exit","localStorage","setItem","JSON","stringify","user","this","props","save","objUser","exit","className","onClick","exitFunck","bind","hidden","React","Component","ReturnButton","returnButton","secret_key","readBin","id","fetch","method","headers","then","response","json","updateBin","body","RegistrationForm","_id","onChangeName","event","setState","name","target","value","onChangeSurname","surname","onChangePhone","phone","onChangePassword","password","onChangeData","data","state","array","error","addLocalStorUser","localStorId","closeRegistrationForm","result","users","filter","el","length","console","log","push","res","ok","catch","err","onChange","placeholder","type","onSubmitFn","LoginForm","phoneLogin","passwordLogin","toComeIn","getItem","parse","closeLoginForm","arr","localStorKey","onChengPhone","onChengPassword","Entrance","loginSwitch","registSwitch","login","registration","Header","condition","Date","toLocaleString","weekday","month","day","isOnline","UserItem","src","alt","TodoListItem","label","onDelete","TodoList","items","elements","map","item","itemProps","key","SearchPanel","term","onTermChange","e","onSearchChange","ItemAddForm","onLabelChange","onNameChange","onSurnameChange","onDataChange","onTextareaChange","textarea","onSubmit","preventDefault","onItemAdded","onClickEvent","required","holidays","Todos","maxId","createItem","Math","floor","random","local","forEach","ind","splice","search","switchEvent","toLowerCase","indexOf","visibleItems","searchItems","toLocaleDateString","eventSwitch","switchEventMy","style","borderBottom","switchEventAll","Settings","savedUser","close","settingsSwitch","onChangeDate","saveChanges","EventItem","Nav","ContentItem","date","Content","today","setHours","setMinutes","setSeconds","setMilliseconds","events","concat","sort","a","b","d1","setFullYear","getFullYear","d2","Main","Footer","daysLeft","end","days","message","App","store","createStore","action","obj","i","applyMiddleware","next","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ConnectedApp","connect","dispatch","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d20d9ebd.chunk.js","sourcesContent":["import Exit from './Exit';\r\nexport default Exit;","import React from 'react';\r\nimport './Exit.css';\r\n\r\nclass Exit extends React.Component {\r\n    \r\n    exitFunck(){\r\n        // const user = JSON.parse(localStorage.getItem('user'));\r\n        // user.login = false;\r\n        // localStorage.setItem('user',JSON.stringify(user))\r\n        // this.props.login(false)\r\n        localStorage.setItem(`users`, JSON.stringify({ user: null }));\r\n        this.props.save(this.props.objUser)\r\n        this.props.exit()\r\n        \r\n    } \r\n\r\n    render(){return(\r\n        <button className=\"exit__button\"\r\n            onClick={this.exitFunck.bind(this)}\r\n            hidden={this.props.hidden}\r\n        >Выход</button>\r\n    )}\r\n\r\n}\r\n\r\nexport default Exit;","import React from 'react';\r\nimport './ReturnButton.css'\r\n\r\nfunction ReturnButton(props){\r\n    return (\r\n        <button className=\"return_button\"\r\n                onClick={props.returnButton}\r\n        >\r\n            X\r\n        </button>\r\n    )\r\n}\r\nexport default ReturnButton;","import ReturnButton from './ReturnButton';\r\nexport default ReturnButton;","\r\nconst secret_key ='$2b$10$y852fwXQa1i/aSBh0BEY8ugRxHLshV9pVLd3IffDj8Rvqqfj.1irC';\r\n\r\n// eslint-disable-next-line\r\nfunction createBin(body){\r\n    return fetch(`https://api.jsonbin.io/b`,{\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type':'application/json',\r\n            'secret-key':   secret_key,\r\n        },\r\n        body : JSON.stringify( {users : []})\r\n    })\r\n\r\n}\r\n\r\nfunction readBin(id){\r\n    return fetch(`https://api.jsonbin.io/b/${id}`,{\r\n        method: 'GET',\r\n        headers: {\r\n            'secret-key':secret_key,\r\n        },\r\n  \r\n    })\r\n    .then( response => response.json()) \r\n    // .then( res => console.log( res))\r\n}\r\n\r\nfunction updateBin(id,body){\r\n    return fetch(`https://api.jsonbin.io/b/${id}`,{\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type':'application/json',\r\n            'secret-key':secret_key,\r\n            'versioning':'false',\r\n        },\r\n        body : JSON.stringify( body )\r\n        // body : JSON.stringify( {homework:'-1'})\r\n    }) \r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction deleteBin(){\r\n    return fetch(`https://api.jsonbin.io/b/5d978992de1e6569c2490df1/latest`,{\r\n        method: 'DELETE',\r\n        headers: {\r\n            'secret-key':secret_key,\r\n        },\r\n        \r\n    })\r\n    .then( response => response.json()) \r\n    .then( res => console.log( res))\r\n\r\n}\r\nfunction save(obj,id){\r\n    readBin(id)\r\n    .then(res => {\r\n        res.users.forEach((el,i) => {\r\n            if(el.phone===obj.phone){\r\n                res.users[i] = obj\r\n            }\r\n        });\r\n        updateBin(id,res)\r\n    })\r\n}\r\n\r\n\r\n\r\nexport {updateBin , readBin ,save};","import RegistrationForm from './RegistrationForm';\r\nexport default RegistrationForm;","import React from 'react';\r\nimport './RegistrationForm.css';\r\nimport ReturnButton from '../../../ReturnButton';\r\nimport {updateBin , readBin } from '../../../../apiJSONBin';\r\n\r\n\r\nexport default class RegistrationForm extends React.Component {\r\n\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            name : null,\r\n            surname : null,\r\n            phone : null,\r\n            password : null,\r\n            data : null,\r\n            array:[],\r\n            error : null,\r\n        }\r\n\r\n        // this.readBin = this.readBin.bind(this);\r\n        this.addLocalStorUser = this.addLocalStorUser.bind(this)\r\n    }\r\n\r\n    _id = '5dcd5e7a2eea4763ad9ad3ba';\r\n\r\n    onChangeName = (event) => {\r\n        this.setState({\r\n            name : event.target.value\r\n        })\r\n    }\r\n\r\n    onChangeSurname = (event) => {\r\n        this.setState({\r\n            surname : event.target.value\r\n       })\r\n    }\r\n\r\n    onChangePhone = (event) => {\r\n        const value = event.target.value\r\n        this.setState({\r\n            phone : value\r\n       })\r\n    }\r\n\r\n    onChangePassword = (event) => {\r\n        \r\n        this.setState({\r\n            password : event.target.value\r\n       })\r\n    }\r\n\r\n    onChangeData = (event) => {\r\n        this.setState({\r\n            data : event.target.value\r\n       })\r\n    }\r\n\r\n    addLocalStorUser(){\r\n        const localStorId = this.state.phone;\r\n        localStorage.setItem(`${localStorId}`, JSON.stringify(this.state));\r\n        localStorage.setItem(`users`, JSON.stringify({ user: this.state.phone }));\r\n        this.props.exit()\r\n        this.props.closeRegistrationForm();\r\n    }\r\n\r\n    onSubmitFn(){\r\n        const {phone} = this.state;\r\n\r\n        readBin(this._id)\r\n            .then( result => {\r\n\r\n                const arr = result.users.filter( el => {\r\n                    return el.phone === phone\r\n                })\r\n\r\n                if(arr.length === 0){\r\n                    console.log('можно создать акаунт ')\r\n                    result.users.push(this.state)\r\n\r\n                    updateBin(this._id,result)\r\n                        .then( res => {\r\n                            if(res.ok){\r\n                                this.addLocalStorUser();\r\n                            }else {\r\n                                this.setState({error :'Ошибка сервера попробуйте еще раз'})\r\n                            }\r\n                        })                                               \r\n                        .catch( err => {this.setState({error : err})})\r\n                } else {\r\n                    this.setState({error :'Tакой пользователь уже зарегистрирован'})                           \r\n                    console.log('такой пользователь уже есть')\r\n                }\r\n            })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div  className=\"registration_form \">\r\n                \r\n                <div className=\"close__registration_for\">\r\n                    <ReturnButton returnButton={this.props.closeRegistrationForm}/>\r\n                </div>\r\n\r\n                <div className=\"regist__input blink1\">\r\n                    <input onChange={this.onChangeName} \r\n                            placeholder=\"Имя\"/>\r\n                </div>\r\n\r\n                <div className=\"regist__input blink2\">\r\n                    <input  onChange={this.onChangeSurname} \r\n                            placeholder=\"Фамилия\"/>\r\n                </div>\r\n                <div className=\"regist__error\">\r\n                    {this.state.error }\r\n                </div>\r\n                <div className=\"regist__input blink3\">\r\n                    \r\n                    <input onChange={this.onChangePhone} \r\n                            placeholder=\"Телефон\"/>\r\n                </div>\r\n\r\n                <div className=\"regist__input blink4\">\r\n                    <input onChange={this.onChangePassword} \r\n                            placeholder=\"Пароль\"/>\r\n                </div>\r\n\r\n                <div className=\"regist__input blink5\">\r\n                    <input onChange={this.onChangeData} type=\"date\" />\r\n                </div>\r\n\r\n                <div >\r\n                    <button className=\"regist__button\"\r\n                            onClick={this.onSubmitFn.bind(this)}>\r\n                        Зарегистрироваться\r\n                    </button>\r\n                </div>\r\n                \r\n            </ div>\r\n        )\r\n    }\r\n}","import LoginForm from './LoginForm';\r\nexport default LoginForm;","import React from 'react';\r\nimport ReturnButton from '../../../ReturnButton';\r\nimport { readBin } from '../../../../apiJSONBin';\r\n\r\n\r\nimport './LoginForm.css';\r\n\r\nexport default class LoginForm extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            phoneLogin : null,\r\n            passwordLogin : null,\r\n            error:null,\r\n            // userPhone: null,\r\n\r\n            // phone: null,\r\n            // password: null,\r\n        }\r\n        this.toComeIn = this.toComeIn.bind(this)\r\n    }\r\n\r\n    _id = '5dcd5e7a2eea4763ad9ad3ba';\r\n\r\n    onChengPhone(event){\r\n        this.setState({\r\n            phoneLogin : event.target.value,\r\n        }) \r\n    }\r\n\r\n    onChengPassword(event){\r\n        this.setState({\r\n            passwordLogin : event.target.value,\r\n        })\r\n    }\r\n\r\n    toComeIn(){\r\n        const {phoneLogin, passwordLogin} = this.state;\r\n        \r\n        if( localStorage.getItem(phoneLogin) ){\r\n            \r\n            const user = JSON.parse(localStorage.getItem(phoneLogin))\r\n            const password = user.password\r\n            if(password === passwordLogin){\r\n                console.log('заходите')\r\n                localStorage.setItem(`users`, JSON.stringify({ user: phoneLogin }));\r\n                this.props.exit()\r\n                this.props.closeLoginForm()\r\n            }else{\r\n                this.setState({error :'неверный пароль или логин'})\r\n                console.log('пароль не верный ')\r\n            }\r\n            \r\n            \r\n        } else{\r\n            console.log('в лк нету user')\r\n            readBin(this._id)\r\n            .then( result => {\r\n\r\n                const arr = result.users.filter( el => {\r\n                    return el.phone === phoneLogin\r\n                })\r\n                // console.log(arr)\r\n\r\n                if(arr.length !== 0){\r\n                    // console.log(arr)\r\n                    if(arr[0].password === passwordLogin){\r\n                        console.log(arr[0].password)\r\n                        const localStorKey = arr[0].phone;\r\n                        localStorage.setItem(`${localStorKey}`, JSON.stringify(arr[0]));\r\n                        localStorage.setItem(`users`, JSON.stringify({ user: phoneLogin }));\r\n                        this.props.exit()\r\n                        this.props.closeLoginForm()\r\n                    } else {\r\n                        this.setState({error :'Неверный пароль или логин'})\r\n                        console.log('неверный пароль')\r\n                    }\r\n                     \r\n                } else {\r\n                    this.setState({error :'Такой пользователь не зарегистрирован'})                           \r\n                    console.log('такой пользователь не зарегистрирован')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"login-form\">\r\n\r\n                \r\n                <div className=\"close__login_form\">\r\n                    <ReturnButton returnButton={this.props.closeLoginForm}/>\r\n                </div>\r\n                \r\n                <div className=\"login__input blink1\">                   \r\n                    <input onChange={this.onChengPhone.bind(this)} \r\n                            placeholder=\"Телефон\"/>\r\n                </div>\r\n                <div className=\"login__error\">\r\n                    {this.state.error}\r\n                </div>\r\n                <div className=\"login__input blink2\">\r\n                    <input onChange={this.onChengPassword.bind(this)} \r\n                            placeholder=\"пароль\"/>\r\n                </div>\r\n               \r\n                <button className=\"login__button blink1\"\r\n                        onClick={this.toComeIn}>\r\n                    Войти\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n};","import Entrance from './Entrance';\r\nexport default Entrance;","import React from 'react';\r\nimport RegistrationForm from './RegistrationForm'\r\nimport LoginForm from './LoginForm';\r\n\r\nimport './Entrance.css';\r\n\r\n\r\nexport default class Entrance extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            loginSwitch: true,\r\n            registSwitch: true,\r\n            login:true,\r\n            registration:true,\r\n        }\r\n        this.closeRegistrationForm = this.closeRegistrationForm.bind(this);\r\n        this.closeLoginForm = this.closeLoginForm.bind(this);\r\n        \r\n    }\r\n    \r\n    closeRegistrationForm(){\r\n        this.setState((state)=>{\r\n            return { \r\n                registSwitch : !state.registSwitch,\r\n                login : !state.login\r\n            }\r\n        })\r\n    }\r\n\r\n    closeLoginForm(){\r\n        this.setState((state)=>{\r\n            return {\r\n                loginSwitch:!state.loginSwitch,\r\n                registration :!state.registration\r\n            }\r\n        })\r\n    }\r\n   \r\n    render(){\r\n\r\n        // console.log(this.props.objUser)\r\n        \r\n        return(\r\n            <div  className=\"entrance\" \r\n                    hidden={this.props.hidden}\r\n            > \r\n\r\n                <div hidden={!this.state.registration}>\r\n                    {this.state.registSwitch \r\n                    ? <button className=\"register_button\"\r\n                                onClick={this.closeRegistrationForm}\r\n                    >\r\n                        Регистрация\r\n                    </button>\r\n                    \r\n                    : <RegistrationForm                             \r\n                                closeRegistrationForm={this.closeRegistrationForm}\r\n                                exit={this.props.exit}\r\n                    /> }\r\n               </div>\r\n               <div hidden={!this.state.login}>\r\n                    {this.state.loginSwitch \r\n                    ? <button className=\"login_button\"                               \r\n                                onClick={this.closeLoginForm}\r\n                    > \r\n                        Войти \r\n                    </button> \r\n                    : <LoginForm                       \r\n                            closeLoginForm={this.closeLoginForm}\r\n                            exit={this.props.exit}\r\n                    />}\r\n               </div>\r\n                                \r\n            </div>\r\n        )\r\n    }\r\n}","import Header from './Header';\r\nexport default Header;","import React from 'react';\r\n\r\nimport Exit from '../Exit';\r\nimport Entrance from '../Entrance'\r\n\r\nimport './Header.css';\r\n\r\n\r\nexport default class Header extends React.Component {\r\n\r\n    render(){\r\n        // const condition = this.props.user ? true : false\r\n        let condition = this.props.objUser ? true : false\r\n        // console.log(condition)\r\n\r\n        // console.log( 'header renret with '+JSON.stringify(this.props), condition )\r\n        return(\r\n            <div className=\"header\"> \r\n            <div className=\"today\">\r\n                Сегодня {(new Date()).toLocaleString('ru-RU', { weekday: 'long',  month: 'long', day: 'numeric' })}\r\n            </div>\r\n               \r\n               <div>\r\n                   Запомнить все\r\n                   this.props.isOnline: {`${this.props.isOnline}`} <br/>\r\n                   this.props.user: {this.props.user ? 'true' : 'false'} <br />\r\n                   this.props.objUser: {this.props.objUser ? 'true' : 'false'} <br />\r\n                   name {this.props.objUser ? this.props.objUser.name : 'false'}\r\n                </div>\r\n                \r\n               <div>\r\n\r\n                    <div >\r\n                        <Entrance \r\n                                 hidden={condition}  \r\n                                 exit={this.props.exit} \r\n                            // login={this.props.login}\r\n                            // log={this.props.log}                                                                                                                                                   \r\n                        />\r\n                    </div>\r\n                    \r\n                    <Exit \r\n                        {...this.props}\r\n                        // exit={this.props.exit}\r\n                        // save={this.props.save}\r\n                        hidden={!condition}\r\n                    />\r\n                                   \r\n                </div> \r\n           \r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nfunction UserItem(props){\r\n    // console.log('render with',props )\r\n    return (\r\n        <div className=\"user__item\">\r\n            \r\n            <div className=\"user__item-image\">\r\n                <img src=\"\"  alt=\"img\"/>\r\n            </div>\r\n            \r\n            <span>{props.objUser ? props.objUser.name : 'Name'}</span>\r\n            <span>{props.objUser ? props.objUser.surname: 'Surname'}</span>\r\n            \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default UserItem;","import React from 'react';\r\n\r\nimport './TodoListItem.css';\r\n\r\nconst TodoListItem = ({ label,name, surname, onDelete }) => {\r\n\r\n  return (\r\n    <span className='todo-list-item'>\r\n  \r\n      <div className='todo-list-item'>\r\n\r\n        <div className=\"item-img\">\r\n            <img src=\"\" alt=\"img\"/>\r\n        </div>\r\n\r\n        <span className=\"todo-list-item-label\">\r\n\r\n          <div>\r\n            {name} {surname}\r\n          </div>\r\n          \r\n          <div>\r\n            Собитие : {label}\r\n          </div>\r\n         \r\n        </span>\r\n\r\n      </div>\r\n\r\n      \r\n\r\n      <button type=\"button\"\r\n              className=\"btn btn-outline-danger btn-sm float-right\"\r\n              onClick={onDelete}>\r\n        <i className=\"fa fa-trash-o\"></i>\r\n      </button>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default TodoListItem;\r\n","import TodoList from './TodoList';\r\n\r\nexport default TodoList;\r\n","import React from 'react';\r\n\r\nimport TodoListItem from '../TodoListItem/TodoListItem';\r\n\r\nimport './TodoList.css';\r\n\r\nconst TodoList = ({ items, onDelete }) => {\r\n\r\n  const elements = items.map((item) => {\r\n    const { id, ...itemProps } = item;\r\n    return (\r\n      <li key={id} className=\"list-group-item\">\r\n        <TodoListItem\r\n          { ...itemProps }\r\n          onDelete={ () => onDelete(id) } />\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (<ul className=\"todo-list list-group\">{ elements }</ul>);\r\n};\r\n\r\nexport default TodoList;\r\n","import SearchPanel from './SearchPanel';\r\n\r\nexport default SearchPanel;\r\n","import React, { Component } from 'react';\r\n\r\nimport './SearchPanel.css';\r\n\r\nexport default class SearchPanel extends Component {\r\n\r\n  state = {\r\n    term: ''\r\n  };\r\n\r\n  onTermChange = (e) => {\r\n    const {onSearchChange = () => {}} = this.props;\r\n    this.setState({\r\n      term: e.target.value\r\n    });\r\n\r\n    onSearchChange(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <input type=\"text\"\r\n             className=\"search-input\"\r\n             placeholder=\"поиск событий\"\r\n             value={this.state.term}\r\n             onChange={ this.onTermChange } />\r\n    );\r\n  };\r\n}\r\n","import ItemAddForm from './ItemAddForm';\r\n\r\nexport default ItemAddForm;\r\n","import React, { Component } from 'react';\r\n\r\nimport './ItemAddForm.css';\r\n\r\nexport default class ItemAddForm extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      label: '',\r\n      name : '',\r\n      surname : '',\r\n      data: '',\r\n      textarea: '',\r\n    };\r\n  }\r\n  \r\n  onLabelChange = (e) => { this.setState( {label: e.target.value} ) };\r\n  onNameChange = (e) => { this.setState( {name: e.target.value} ) };\r\n  onSurnameChange = (e) => { this.setState( {surname: e.target.value} ) };\r\n  onDataChange = (e) => { this.setState( {data: e.target.value} ) };\r\n  onTextareaChange = (e) => { this.setState( {textarea: e.target.value} ) };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { label, name, surname, data, textarea, } = this.state;\r\n    this.setState({ label: '',name : '',surname : '',data: '',textarea: '', });\r\n    const cb = this.props.onItemAdded || (() => {});\r\n    cb(label,name, surname, data, textarea);\r\n    this.props.onClickEvent();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <form\r\n          \r\n          onSubmit={this.onSubmit}>\r\n\r\n          <div>Добавить картинку</div>\r\n          <input type=\"text\"\r\n                  placeholder=\"Имя\"\r\n                  value={this.state.name}\r\n                  onChange={this.onNameChange}/>\r\n\r\n          <input  type=\"text\"\r\n                  placeholder=\"Фамилия\"\r\n                  value={this.state.surname}\r\n                  onChange={this.onSurnameChange}/>\r\n\r\n          <input type=\"date\"\r\n                  value={this.state.data}\r\n                  onChange={this.onDataChange}\r\n                  required/>\r\n          \r\n          <input type=\"text\"\r\n                className=\"form-control new-todo-label\"\r\n                value={this.state.label}\r\n                onChange={this.onLabelChange}\r\n                placeholder=\"Какое событие\" />\r\n          <div>\r\n              <div>Заметка для подарка</div>\r\n              <textarea \r\n                      value={this.state.textarea}\r\n                      onChange={this.onTextareaChange}/>\r\n          </div>\r\n          \r\n\r\n          <button type=\"submit\"\r\n                  className=\"btn btn-outline-secondary\">Добавить</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"," const holidays = [\r\n   {\r\n    data: \"2019-12-31\",\r\n    label: \"Новый год\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    textarea: \"🎄\",\r\n   }, \r\n   {\r\n    data: \"2020-02-14\",\r\n    label: \"День св. Валентина\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    textarea: \"😍\",\r\n   },\r\n   {\r\n    data: \"2020-03-17\",\r\n    label: \"День св. Патрика\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    textarea: \"🍺🍀🍻\",\r\n   },\r\n ]\r\n\r\nexport default holidays","import Todos from './Todos';\r\n\r\nexport default Todos;\r\n","import React, { Component } from 'react';\r\n\r\nimport TodoList from './TodoList';\r\nimport SearchPanel from './SearchPanel';\r\nimport ItemAddForm from './ItemAddForm';\r\nimport ReturnButton from '../../../ReturnButton';\r\n\r\n\r\n\r\nimport './Todos.css';\r\n\r\nimport holidays from '../../Content/holidays';\r\n\r\n\r\nexport default class Todos extends Component {\r\n\r\n  maxId = 100;\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      // [items] should not be stored in  this.state\r\n      // items : this.props.objUser? this.props.objUser.array: [],\r\n      search: '',\r\n      event : false,\r\n      switchEvent : false,\r\n    };\r\n\r\n    this.onClickEvent = this.onClickEvent.bind(this)\r\n\r\n  }\r\n\r\n  \r\n  \r\n\r\n  onItemAdded = (label, name, surname, data, textarea) => {\r\n\r\n    const {phone} = this.props.objUser\r\n    const item = this.createItem(label, name, surname, data, textarea);\r\n    item.id = Math.floor(Math.random()*1000000);\r\n    const local = JSON.parse(localStorage.getItem(phone));\r\n    local.array.push(item)\r\n    localStorage.setItem(phone, JSON.stringify(local)) \r\n\r\n\r\n    //action\r\n    // this.props.login(local)\r\n    this.props.exit()\r\n    this.props.save(local)\r\n\r\n\r\n    // this.setState((state) => {\r\n    //   return { items: [...state.items, item] };\r\n    // })\r\n};\r\n\r\ncreateItem(label, name, surname, data, textarea) {\r\n  return {\r\n    label,\r\n    name, \r\n    surname, \r\n    data, \r\n    textarea,      \r\n  };\r\n}\r\n\r\n\r\nonDelete = (id) => {\r\n  const {phone} = this.props.objUser\r\n  const local = JSON.parse(localStorage.getItem(phone));\r\n  local.array.forEach( (el,ind) => {\r\n    if(el.id === id){\r\n      local.array.splice(ind,1)\r\n    }\r\n  })\r\n  localStorage.setItem(phone, JSON.stringify(local))\r\n\r\n  //action\r\n  // this.props.login(local)\r\n  this.props.exit()\r\n  this.props.save(local)\r\n  // [items] should not be stored in  this.state\r\n\r\n\r\n  // this.setState((state) => {\r\n  //   const idx = state.items.findIndex((item) => item.id === id);\r\n  //   const items = [\r\n  //     ...state.items.slice(0, idx),\r\n  //     ...state.items.slice(idx + 1)\r\n  //   ];\r\n  //   return { items };\r\n  // });\r\n};\r\n\r\nonSearchChange = (search) => {\r\n  this.setState({ search });\r\n};\r\n\r\nsearchItems(items, search) {\r\n  if (search.length === 0) {\r\n    return items;\r\n  }\r\n\r\n  return items.filter((item) => {\r\n     return item.label.toLowerCase().indexOf(search.toLowerCase()) > -1;\r\n  });\r\n}\r\n\r\nonClickEvent(){\r\n  this.setState( (state)=>{\r\n    return {\r\n      event : !state.event\r\n    }\r\n  })\r\n}\r\n\r\nswitchEventAll(){\r\n  this.setState( {\r\n    switchEvent : true,\r\n  })\r\n}\r\n\r\nswitchEventMy(){\r\n  this.setState( {\r\n    switchEvent : false,\r\n  })\r\n}\r\n\r\nrender() {\r\n    const { search , event } = this.state;\r\n\r\n    // [items] should not be stored in  this.state\r\n    const items = this.props.objUser? this.props.objUser.array: [];\r\n    const visibleItems = this.searchItems(items, search);\r\n    const elements = holidays.map((item) => {\r\n       return (\r\n        <li key={item.data} className=\"list-group-item\">\r\n            {`${new Date(item.data).toLocaleDateString('ru-RU', { weekday: 'long',  month: 'long', day: 'numeric' })} ${item.label} ${item.textarea}`}\r\n        </li>\r\n      );\r\n    });\r\n\r\n    // console.log(this.state.items)\r\n\r\n    return (\r\n      <div className=\"todos\"\r\n            hidden={this.props.hidden}>\r\n\r\n        <div className=\"close__todos\">\r\n          <ReturnButton returnButton={this.props.eventSwitch}/>\r\n        </div> \r\n\r\n        \r\n        <div className=\"todos-header\">\r\n\r\n          <div className=\"todos-header-item\"\r\n                onClick={this.switchEventMy.bind(this)}\r\n                style={ {borderBottom : this.state.switchEvent ? \"1px solid red\" :\"hidden\" }}\r\n                hidden={!this.props.objUser}\r\n                >\r\n                  \r\n            Мои события \r\n          </div>\r\n          <div className=\"todos-header-item\"\r\n              onClick={this.switchEventAll.bind(this)}\r\n              style={ {borderBottom : this.state.switchEvent ? \"hidden\": \"1px solid red\"  }}>\r\n            Все события\r\n          </div>\r\n        </div>\r\n        {/* ----------------- */}\r\n        \r\n        <div className=\"my__event\"\r\n            hidden={this.state.switchEvent || !this.props.objUser}>\r\n\r\n          <div className=\"my__event_form\" \r\n              hidden={!event}>\r\n              <ItemAddForm\r\n                onClickEvent={this.onClickEvent}\r\n                onItemAdded={this.onItemAdded} /> \r\n          </div>\r\n\r\n          <div className=\"add_event\"\r\n                hidden={event}>\r\n\r\n            <div className=\"add_event_button\"\r\n                  onClick={this.onClickEvent}>\r\n              <div className=\"add_event_icon\">\r\n                +\r\n              </div>\r\n              <div className=\"add_event_text\">\r\n                Добавить событие\r\n              </div>             \r\n            </div>\r\n\r\n            <div className=\"todos__search_panel\">\r\n              <SearchPanel\r\n                onSearchChange={this.onSearchChange}/>\r\n            </div>\r\n\r\n            <TodoList\r\n              items={ visibleItems }             \r\n              onDelete={this.onDelete} />\r\n          </div>\r\n        </div>\r\n        {/* ----------- */}\r\n\r\n        <div className=\"all-event\"\r\n            hidden={this.props.objUser? !this.state.switchEvent: this.props.objUser}>\r\n          <ul className=\"todo-list list-group\">\r\n          {elements}\r\n          </ul>\r\n        </div>\r\n        \r\n        \r\n\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './Settings.css';\r\n\r\n\r\nexport default class Settings extends React.Component {\r\n  // constructor(props){\r\n  //   super(props);\r\n\r\n  //   this.user = this.props.objUser;\r\n\r\n  //   this.state = {\r\n  //     hidden: this.props.hidden\r\n  //   }\r\n  // }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      user : this.props.objUser,\r\n      name:'',\r\n      surname:'',\r\n      password:'',\r\n      data:'',\r\n    }\r\n  }\r\n\r\n  onChangeName(e){\r\n    this.setState({ name:e.target.value, user:{...this.state.user, name : e.target.value}})\r\n  }\r\n  onChangeSurname(e){\r\n    this.setState({ surname:e.target.value, user:{...this.state.user, surname : e.target.value}})\r\n\r\n  }\r\n  onChangePassword(e){\r\n    this.setState({ password:e.target.value, user:{...this.state.user, password : e.target.value}})\r\n\r\n  }\r\n  onChangeDate(e){\r\n    this.setState({ data:e.target.value, user:{...this.state.user, data : e.target.value}})\r\n\r\n  }\r\n  saveChanges(){\r\n    const savedUser = {...this.props.objUser, ...this.state.user}\r\n    this.setState({\r\n      user:'',\r\n      name:'',\r\n      surname:'',\r\n      password:'',\r\n      data:'',\r\n    })\r\n    this.props.login(savedUser)//need?\r\n    localStorage.setItem(savedUser.phone,JSON.stringify(savedUser));\r\n    this.props.exit()\r\n    this.props.save(savedUser)\r\n    this.close()\r\n\r\n  }\r\n  close(){\r\n    this.props.settingsSwitch()\r\n  }\r\n\r\n    render(){\r\n\r\n      return (\r\n            <div \r\n              className=\"settings\"\r\n              hidden={this.props.hidden}\r\n            >\r\n                <div \r\n                className=\"settings-close\"\r\n                onClick={this.close.bind(this)}\r\n                >\r\n                  x\r\n                </div>\r\n                <input \r\n                  onChange={this.onChangeName.bind(this)} \r\n                  value={this.state.name}\r\n                  placeholder=\"Имя\"\r\n                /> \r\n                <input \r\n                  onChange={this.onChangeSurname.bind(this)} \r\n                  value={this.state.surname}\r\n                  placeholder=\"Фамилия\"\r\n                /> \r\n                <input \r\n                  onChange={this.onChangePassword.bind(this)} \r\n                  placeholder=\"Пароль\"\r\n                  value={this.state.password}\r\n                /> \r\n                <input \r\n                  onChange={this.onChangeDate.bind(this)} \r\n                  type=\"date\"\r\n                  value={this.state.data}\r\n                /> \r\n                <button\r\n                  onClick={this.saveChanges.bind(this)}                \r\n                >\r\n                  Сохранить\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Todos from './Todos';\r\nimport Settings from './Settings';\r\n\r\nexport default class EventItem extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state ={\r\n            eventSwitch : false,\r\n            settingsSwitch : false,\r\n\r\n        }\r\n\r\n        this.eventSwitch = this.eventSwitch.bind(this);\r\n        this.settingsSwitch = this.settingsSwitch.bind(this);\r\n    }\r\n\r\n    eventSwitch(){\r\n        this.setState( (state)=>{\r\n            return { eventSwitch : !state.eventSwitch}\r\n        })\r\n    }\r\n    settingsSwitch(){\r\n        this.setState( (state)=>{\r\n            return { settingsSwitch : !state.settingsSwitch}\r\n        })\r\n    }\r\n  \r\n    render(){ \r\n        return(       \r\n            <div className=\"event__item\">\r\n               \r\n                <div> \r\n                    <div  onClick={this.eventSwitch}>                           \r\n                        События\r\n                    </div>\r\n                        \r\n                    <Todos \r\n                            {...this.props}\r\n                            eventSwitch={this.eventSwitch}\r\n                            hidden={!this.state.eventSwitch}\r\n                    />\r\n                                                                      \r\n                </div>\r\n                <div>\r\n                    <div\r\n                    onClick={this.settingsSwitch}\r\n                    >\r\n                        Настройки\r\n                    </div>\r\n                    <Settings\r\n                        {...this.props}\r\n                        hidden={!this.state.settingsSwitch}\r\n                        settingsSwitch={this.settingsSwitch}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};","import Nav from './Nav';\r\nexport default Nav;","import React from 'react';\r\nimport './Nav.css';\r\n\r\nimport UserItem from './UserItem';\r\nimport EventItem from './EventItem';\r\n\r\nexport default class Nav extends React.Component {\r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"nav\">\r\n                \r\n                <UserItem {...this.props}/>\r\n                <EventItem {...this.props}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nfunction ContentItem (props){\r\n    const date = new Date(props.event.data);\r\n    const options = { weekday: 'long',  month: 'long', day: 'numeric' };\r\n\r\n    return (\r\n        <div className=\"content-item\">\r\n            <div>{props.event.label}</div>\r\n            <div>{props.event.name}</div>\r\n            <div>{props.event.surname}</div>\r\n            <div>{date.toLocaleDateString('ru-RU', options)}</div>\r\n            <div>{props.event.textarea}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContentItem;","import Content from './Content';\r\nexport default Content;","import React from 'react';\r\nimport './Content.css';\r\n\r\nimport ContentItem from './ContentItem';\r\nimport holidays from './holidays';\r\n\r\nexport default class Content extends React.Component {\r\n\r\n    render(){\r\n            const today = new Date();\r\n            today.setHours(0);\r\n            today.setMinutes(0);\r\n            today.setSeconds(0);\r\n            today.setMilliseconds(0);\r\n\r\n            const events = this.props.user\r\n                ? this.props.user.array.concat(holidays)\r\n                : holidays;\r\n\r\n                events.sort((a, b)=>{\r\n                        const d1 = new Date(a.data).setFullYear(today.getFullYear())\r\n                        const d2 = new Date(b.data).setFullYear(today.getFullYear())\r\n                        const dif1 = d1-today > 0 ? d1-today : d1-today + 31536000000\r\n                        const dif2 = d2-today > 0 ? d2-today : d2-today + 31536000000\r\n                    return dif1 - dif2\r\n                })\r\n\r\n            return (\r\n                <div className=\"content\">\r\n                    <ContentItem event={events[0]} />\r\n                    <ContentItem event={events[1]} />\r\n                    <ContentItem event={events[2]} />\r\n                </div>\r\n            )\r\n        \r\n\r\n    }\r\n}","import Main from './Main';\r\nexport default Main;","import React from 'react';\r\nimport './Main.css';\r\n\r\nimport Nav from './Nav';\r\nimport Content from './Content';\r\n\r\nexport default class Main extends React.Component {\r\n    \r\n\r\n    \r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"main\">\r\n                <Nav {...this.props}/>\r\n                {/* <Content> only needs objUser as props */}\r\n                <Content user={this.props.objUser} />\r\n            </div>\r\n        )\r\n    }\r\n}","import Footer from './Footer';\r\nexport default Footer;","import React from 'react';\r\n\r\nimport './Footer.css';\r\nimport holidays from '../Main/Content/holidays';\r\n\r\nexport default class Footer extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            // user : this.props.user\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    \r\n    render(){\r\n        const today = new Date();\r\n        today.setHours(0);\r\n        today.setMinutes(0);\r\n        today.setSeconds(0);\r\n        today.setMilliseconds(0);\r\n\r\n        let events = this.props.objUser\r\n            ? this.props.objUser.array.concat(holidays)\r\n            : holidays;\r\n           \r\n        events.sort((a, b)=>{\r\n            const d1 = new Date(a.data).setFullYear(today.getFullYear())\r\n            const d2 = new Date(b.data).setFullYear(today.getFullYear())\r\n            const dif1 = d1-today > 0 ? d1-today : d1-today + 31536000000\r\n            const dif2 = d2-today > 0 ? d2-today : d2-today + 31536000000\r\n\r\n            return dif1 - dif2\r\n        })\r\n\r\n        const daysLeft = ~~((new Date(events[0].data) - today) / 1000 / 60 / 60 / 24 )// ms to day \r\n\r\n        function days(daysLeft){\r\n            switch (daysLeft % 10) {\r\n                case 1: return 'день';\r\n                case 2:\r\n                case 3:\r\n                case 4: return 'дня';\r\n                default: return 'дней';\r\n            }}\r\n\r\n        const end =   (daysLeft < 10 || daysLeft > 20)? days(daysLeft) :'дней';        \r\n            \r\n        const message = daysLeft === 1\r\n                ? `${events[0].label} завтра`\r\n                : daysLeft === 0\r\n                    ? `${events[0].label} сегодня`\r\n                    :`${events[0].label} через ${daysLeft} ${end} `\r\n\r\n        return (\r\n            <footer className=\"footer\">\r\n                <div className=\"days-left\">\r\n                    {message} \r\n                </div>\r\n            </footer>\r\n        )\r\n    }\r\n}","import App from './App';\r\nexport default App;","import React from 'react';\r\nimport Header from '../Header/HeaderMain';\r\nimport Main from '../Main';\r\nimport Footer from '../Footer';\r\n\r\nimport './App.css';\r\n\r\nexport default class App extends React.Component {\r\n\r\n    render(){\r\n\r\n        \r\n        console.log('App component is rendered with',this.props.objUser )\r\n        return (\r\n            <div className=\"app\">\r\n                <Header  \r\n\r\n                    {...this.props}\r\n                   \r\n                />\r\n                {/* <div onClick={ ()=>{\r\n                    const users = JSON.parse(localStorage.getItem('users')) \r\n                    if(users.user !== null){\r\n                        users.user = null\r\n                        localStorage.setItem('users', JSON.stringify(users))\r\n                        localStorage.removeItem(this.props.objUser.phone)\r\n                        this.props.exit()\r\n                    }  \r\n                }}>\r\n                    Удалить учетку\r\n                </div> */}\r\n                <Main \r\n                    {...this.props}\r\n                />\r\n                <Footer \r\n                    {...this.props}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","/* eslint-disable default-case */\r\nimport { createStore ,applyMiddleware } from 'redux';\r\n// import reducer from './reducers';\r\n// import { loggerMiddleware, checkboxMiddleware } from './middlewares';\r\n\r\nimport {save} from './apiJSONBin'\r\n\r\nfunction appReducer(state, action){\r\n    switch(action.type) {\r\n        // case 'LOGINc' :  \r\n        //     console.log('Action LOGIN', action.value)          \r\n        //     return {\r\n        //         objUser: action.value\r\n        // }\r\n        case 'SWITCH_USERS' :\r\n            console.log('SWITCH_USERS', action.value)\r\n            return{\r\n                objUser : action.value\r\n        }\r\n        case 'SAVE' :\r\n            save(action.value,'5dcd5e7a2eea4763ad9ad3ba')\r\n    }\r\n\r\n    if (state) {\r\n        return state;\r\n    }\r\n\r\n    return{\r\n        isOnline: false\r\n    }\r\n}\r\n\r\n\r\n// const switcherMiddleware = (store) => (next) => {\r\n//     // const user = JSON.parse(localStorage.getItem('user'));\r\n//     // console.log(user)\r\n//     // next({ type: 'SWITCH_STATE', value : user.login , array: user.array })\r\n    \r\n//     return (action) =>{\r\n//         if(action.type === 'SWITCH_STATE'){\r\n//             const user = JSON.parse(localStorage.getItem('user'));\r\n//             next({ type: 'SWITCH_STATE', value : user.login , array: user.array })\r\n//         } else {\r\n//             next(action);\r\n//         }\r\n        \r\n//     }\r\n// }\r\n\r\nconst switcherMiddleware = (store) => (next) => {\r\n    const users = JSON.parse(localStorage.getItem('users'));\r\n    if(users){\r\n        console.log(users.user)\r\n        const user = JSON.parse(localStorage.getItem(`${users.user}`));\r\n        console.log(user)\r\n        next({ type: 'SWITCH_USERS', value : user })\r\n    }\r\n    \r\n    \r\n    return (action) =>{\r\n        \r\n        if(action.type === 'SWITCH_USERS'){\r\n            const users = JSON.parse(localStorage.getItem('users'));       \r\n            const user = JSON.parse(localStorage.getItem(`${users.user}`));            \r\n            next({ type: 'SWITCH_USERS', value : user })\r\n        } else {\r\n            next(action);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport const store = createStore(\r\n  appReducer,\r\n  applyMiddleware(\r\n    switcherMiddleware,\r\n    // loggerMiddleware,\r\n  ),\r\n);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './componets/App';\r\nimport { store } from './store';\r\nimport { Provider, connect } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\n// ReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\nconst ConnectedApp = connect(\r\n    // 1 Map State To Props\r\n    (state) => ({\r\n      user: state.user,\r\n      objUser : state.objUser,\r\n    }),\r\n    // 2 Map Dispatch To Props\r\n    (dispatch) => ({\r\n        // login:(value) => dispatch({ type: 'SWITCH_STATE', value}),\r\n        login: (value) => dispatch({ type: 'LOGIN', value}),\r\n        exit: () => dispatch({ type: 'SWITCH_USERS',}),\r\n        save: (value) => dispatch({ type: 'SAVE', value}),\r\n    }),\r\n  )(App);\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <ConnectedApp />\r\n    </Provider>,\r\n    document.getElementById('root'),\r\n  );\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}